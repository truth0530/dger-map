/**
 * 병원 마스터 데이터 및 상수
 * 원본: dger-api/public/data/hosp_list.json
 *
 * 주요 병원 정보 및 지역 매핑
 */

// ===== 권역응급의료센터 목록 =====
export interface HospitalMasterData {
  hpid: string;        // 기관코드
  name: string;        // 기관명
  level: string;       // 기관분류 (권역/지역/전문/기관)
  region: string;      // 지역 (시도)
  area: string;        // 응급의료 권역
  address?: string;    // 주소
  lat?: number;        // 위도
  lng?: number;        // 경도
}

// 권역응급의료센터 (38개)
export const REGIONAL_TRAUMA_CENTERS: HospitalMasterData[] = [
  { hpid: 'A2200008', name: '강릉아산병원', level: '권역응급의료센터', region: '강원특별자치도', area: '강원영동' },
  { hpid: 'A1300002', name: '경북대학교병원', level: '권역응급의료센터', region: '대구광역시', area: '대구' },
  { hpid: 'A2800001', name: '경상국립대학교병원', level: '권역응급의료센터', region: '경상남도', area: '경남진주' },
  { hpid: 'A1100014', name: '고려대학교의과대학부속구로병원', level: '권역응급의료센터', region: '서울특별시', area: '서울서남' },
  { hpid: 'A2100003', name: '고려대학교의과대학부속안산병원', level: '권역응급의료센터', region: '경기도', area: '경기서남' },
  { hpid: 'A2400002', name: '단국대학교의과대학부속병원', level: '권역응급의료센터', region: '충청남도', area: '충남' },
  { hpid: 'A2500001', name: '전북대학교병원', level: '권역응급의료센터', region: '전북특별자치도', area: '전북' },
  { hpid: 'A2600002', name: '전남대학교병원', level: '권역응급의료센터', region: '광주광역시', area: '광주' },
  { hpid: 'A1100001', name: '서울대학교병원', level: '권역응급의료센터', region: '서울특별시', area: '서울동북' },
  { hpid: 'A1100003', name: '세브란스병원', level: '권역응급의료센터', region: '서울특별시', area: '서울동북' },
  { hpid: 'A1100013', name: '삼성서울병원', level: '권역응급의료센터', region: '서울특별시', area: '서울동남' },
  { hpid: 'A1100015', name: '서울아산병원', level: '권역응급의료센터', region: '서울특별시', area: '서울동남' },
  { hpid: 'A1200001', name: '부산대학교병원', level: '권역응급의료센터', region: '부산광역시', area: '부산' },
  { hpid: 'A1400002', name: '인하대학교병원', level: '권역응급의료센터', region: '인천광역시', area: '인천' },
  { hpid: 'A2100002', name: '아주대학교병원', level: '권역응급의료센터', region: '경기도', area: '경기남부' },
  { hpid: 'A2300001', name: '충북대학교병원', level: '권역응급의료센터', region: '충청북도', area: '충북' },
  { hpid: 'A1500002', name: '충남대학교병원', level: '권역응급의료센터', region: '대전광역시', area: '대전' },
  { hpid: 'A2700001', name: '제주대학교병원', level: '권역응급의료센터', region: '제주특별자치도', area: '제주' },
  { hpid: 'A1600002', name: '울산대학교병원', level: '권역응급의료센터', region: '울산광역시', area: '울산' },
  { hpid: 'A2200002', name: '강원대학교병원', level: '권역응급의료센터', region: '강원특별자치도', area: '강원영서' },
];

// ===== 지역 코드 매핑 =====
export const REGION_CODE_MAP: Record<string, string> = {
  '서울': '서울특별시',
  '서울특별시': '서울특별시',
  '부산': '부산광역시',
  '부산광역시': '부산광역시',
  '대구': '대구광역시',
  '대구광역시': '대구광역시',
  '인천': '인천광역시',
  '인천광역시': '인천광역시',
  '광주': '광주광역시',
  '광주광역시': '광주광역시',
  '대전': '대전광역시',
  '대전광역시': '대전광역시',
  '울산': '울산광역시',
  '울산광역시': '울산광역시',
  '세종': '세종특별자치시',
  '세종특별자치시': '세종특별자치시',
  '경기': '경기도',
  '경기도': '경기도',
  '강원': '강원특별자치도',
  '강원도': '강원특별자치도',
  '강원특별자치도': '강원특별자치도',
  '충북': '충청북도',
  '충청북도': '충청북도',
  '충남': '충청남도',
  '충청남도': '충청남도',
  '전북': '전북특별자치도',
  '전라북도': '전북특별자치도',
  '전북특별자치도': '전북특별자치도',
  '전남': '전라남도',
  '전라남도': '전라남도',
  '경북': '경상북도',
  '경상북도': '경상북도',
  '경남': '경상남도',
  '경상남도': '경상남도',
  '제주': '제주특별자치도',
  '제주도': '제주특별자치도',
  '제주특별자치도': '제주특별자치도'
};

// ===== 권역 코드 매핑 =====
export const AREA_CODE_MAP: Record<string, string[]> = {
  '서울동북': ['서울특별시'],
  '서울동남': ['서울특별시'],
  '서울서남': ['서울특별시'],
  '서울서북': ['서울특별시'],
  '경기남부': ['경기도'],
  '경기북부': ['경기도'],
  '경기서남': ['경기도'],
  '경기동부': ['경기도'],
  '인천': ['인천광역시'],
  '부산': ['부산광역시'],
  '대구': ['대구광역시'],
  '광주': ['광주광역시'],
  '대전': ['대전광역시'],
  '울산': ['울산광역시'],
  '강원영서': ['강원특별자치도'],
  '강원영동': ['강원특별자치도'],
  '충북': ['충청북도'],
  '충남': ['충청남도', '세종특별자치시'],
  '전북': ['전북특별자치도'],
  '전남': ['전라남도'],
  '경북': ['경상북도'],
  '경남진주': ['경상남도'],
  '경남창원': ['경상남도'],
  '제주': ['제주특별자치도']
};

// ===== API 파라미터 지역명 매핑 =====
export const API_REGION_MAP: Record<string, string> = {
  '서울': '서울',
  '서울특별시': '서울',
  '부산': '부산',
  '부산광역시': '부산',
  '대구': '대구',
  '대구광역시': '대구',
  '인천': '인천',
  '인천광역시': '인천',
  '광주': '광주',
  '광주광역시': '광주',
  '대전': '대전',
  '대전광역시': '대전',
  '울산': '울산',
  '울산광역시': '울산',
  '세종': '세종',
  '세종특별자치시': '세종',
  '경기': '경기',
  '경기도': '경기',
  '강원': '강원',
  '강원도': '강원',
  '강원특별자치도': '강원',
  '충북': '충북',
  '충청북도': '충북',
  '충남': '충남',
  '충청남도': '충남',
  '전북': '전북',
  '전라북도': '전북',
  '전북특별자치도': '전북',
  '전남': '전남',
  '전라남도': '전남',
  '경북': '경북',
  '경상북도': '경북',
  '경남': '경남',
  '경상남도': '경남',
  '제주': '제주',
  '제주도': '제주',
  '제주특별자치도': '제주'
};

// ===== 시도 목록 =====
export const SIDO_LIST = [
  '서울특별시',
  '부산광역시',
  '대구광역시',
  '인천광역시',
  '광주광역시',
  '대전광역시',
  '울산광역시',
  '세종특별자치시',
  '경기도',
  '강원특별자치도',
  '충청북도',
  '충청남도',
  '전북특별자치도',
  '전라남도',
  '경상북도',
  '경상남도',
  '제주특별자치도'
] as const;

export type Sido = typeof SIDO_LIST[number];

// ===== 시도 약칭 =====
export const SIDO_SHORT_NAMES: Record<Sido, string> = {
  '서울특별시': '서울',
  '부산광역시': '부산',
  '대구광역시': '대구',
  '인천광역시': '인천',
  '광주광역시': '광주',
  '대전광역시': '대전',
  '울산광역시': '울산',
  '세종특별자치시': '세종',
  '경기도': '경기',
  '강원특별자치도': '강원',
  '충청북도': '충북',
  '충청남도': '충남',
  '전북특별자치도': '전북',
  '전라남도': '전남',
  '경상북도': '경북',
  '경상남도': '경남',
  '제주특별자치도': '제주'
};

// ===== 기관분류 =====
export const HOSPITAL_LEVELS = [
  '상급종합병원',
  '종합병원',
  '병원',
  '의원'
] as const;

// ===== 응급의료기관분류 =====
export const EMERGENCY_LEVELS = [
  '권역응급의료센터',
  '지역응급의료센터',
  '전문응급의료센터',
  '지역응급의료기관'
] as const;

/**
 * 지역명 정규화
 */
export function normalizeRegion(region: string): string {
  return REGION_CODE_MAP[region] || region;
}

/**
 * API 파라미터용 지역명 변환
 */
export function toApiRegion(region: string): string {
  return API_REGION_MAP[region] || region;
}

/**
 * 시도 약칭 가져오기
 */
export function getSidoShortName(sido: string): string {
  return SIDO_SHORT_NAMES[sido as Sido] || sido;
}

/**
 * 권역응급의료센터 여부 확인
 */
export function isRegionalCenter(hpid: string): boolean {
  return REGIONAL_TRAUMA_CENTERS.some(h => h.hpid === hpid);
}

/**
 * 병원 마스터 데이터 조회
 */
export function getHospitalMaster(hpid: string): HospitalMasterData | undefined {
  return REGIONAL_TRAUMA_CENTERS.find(h => h.hpid === hpid);
}
