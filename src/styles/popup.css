/* ======================== 컴팩트 팝업 스타일 (B옵션) ======================== */

/* MapLibre 팝업 컨테이너 - 다크모드 */
.maplibre-popup-custom.popup-dark .maplibregl-popup-content {
  padding: 0;
  background: #1f2937;
  border-radius: 8px;
  box-shadow: 0 4px 16px rgba(0,0,0,0.3);
  border: 1px solid rgba(255,255,255,0.1);
  overflow: hidden;
}

.maplibre-popup-custom.popup-dark .maplibregl-popup-tip {
  border-top-color: #1f2937;
}

/* MapLibre 팝업 컨테이너 - 라이트모드 */
.maplibre-popup-custom.popup-light .maplibregl-popup-content {
  padding: 0;
  background: #F5F0E8;
  border-radius: 8px;
  box-shadow: 0 4px 20px rgba(74, 93, 93, 0.15), 0 2px 6px rgba(0,0,0,0.08);
  border: 1px solid #d4cdc4;
  overflow: hidden;
}

.maplibre-popup-custom.popup-light .maplibregl-popup-tip {
  border-top-color: #F5F0E8;
}

/* Leaflet 팝업 컨테이너 - 다크모드 */
.leaflet-popup-custom.popup-dark .leaflet-popup-content-wrapper {
  padding: 0;
  background: #1f2937;
  border-radius: 8px;
  box-shadow: 0 4px 16px rgba(0,0,0,0.3);
  border: 1px solid rgba(255,255,255,0.1);
}

.leaflet-popup-custom.popup-dark .leaflet-popup-content {
  margin: 0;
  padding: 0;
  color: #f1f5f9;
}

.leaflet-popup-custom.popup-dark .leaflet-popup-tip {
  background: #1f2937;
  border: none;
  box-shadow: none;
}

/* Leaflet 팝업 컨테이너 - 라이트모드 */
.leaflet-popup-custom.popup-light .leaflet-popup-content-wrapper {
  padding: 0;
  background: #F5F0E8;
  border-radius: 8px;
  box-shadow: 0 4px 20px rgba(74, 93, 93, 0.15), 0 2px 6px rgba(0,0,0,0.08);
  border: 1px solid #d4cdc4;
}

.leaflet-popup-custom.popup-light .leaflet-popup-content {
  margin: 0;
  padding: 0;
  color: #1f2937;
}

.leaflet-popup-custom.popup-light .leaflet-popup-tip {
  background: #F5F0E8;
  border: none;
  box-shadow: none;
}

.leaflet-popup-custom .leaflet-popup-close-button {
  display: none;
}

/* Leaflet 팝업 tip 위치 조정 - 마커와 겹치지 않도록 */
.leaflet-popup-custom .leaflet-popup-tip-container {
  margin-top: -1px;
}

/* 팝업이 마우스 이벤트를 가로채지 않도록 - 마커 간 깜빡임 방지 */
.leaflet-popup-custom {
  pointer-events: none;
}

.leaflet-popup-custom .leaflet-popup-content-wrapper,
.leaflet-popup-custom .leaflet-popup-tip-container {
  pointer-events: none;
}

/* 팝업 내용 - 컴팩트 */
.popup-content {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
}

/* ======================== Leaflet 마커 호버 강조 스타일 ======================== */
.leaflet-custom-marker {
  transition: transform 0.15s ease-out, z-index 0s;
}

.leaflet-custom-marker.marker-hovered {
  transform: scale(1.3) !important;
  z-index: 1000 !important;
  filter: drop-shadow(0 2px 8px rgba(0,0,0,0.4));
}

/* 마커 호버 시 컨테이너도 z-index 상승 */
.leaflet-marker-icon.marker-hovered {
  z-index: 1000 !important;
}
